defmodule AeMdw.Node.AeTxFixtures do
  @moduledoc false

  alias AeMdw.Node
  alias AeMdw.Node.Db
  alias AeMdw.Names

  @typep tx_selector :: atom()

  @spec new_aens_update_tx(Db.pubkey(), Names.plain_name(), non_neg_integer()) :: tuple()
  def new_aens_update_tx(owner_pk, plain_name, name_ttl) do
    account_id = :aeser_id.create(:account, owner_pk)
    {:ok, name_hash} = :aens.get_name_hash(plain_name)

    {:ok, aetx} =
      :aens_update_tx.new(%{
        account_id: account_id,
        nonce: 1,
        name_id: :aeser_id.create(:name, name_hash),
        name_ttl: name_ttl,
        pointers: [
          :aens_pointer.new("account_pubkey", account_id),
          :aens_pointer.new("account_pubkey_binary", "raw data pointer")
        ],
        client_ttl: 0,
        fee: 17_780_000_000_000
      })

    {_mod, tx} = :aetx.specialize_type(aetx)
    tx
  end

  @spec signed_tx(Node.tx_type(), tx_selector()) :: tuple()
  def signed_tx(:contract_call_tx, :aex9_create) do
    {:signed_tx,
     {:aetx, :contract_call_tx, :aect_call_tx, 194,
      {:contract_call_tx,
       {:id, :account,
        <<87, 95, 129, 255, 176, 162, 151, 183, 114, 93, 198, 113, 218, 11, 23, 105, 177, 252, 92,
          190, 69, 56, 92, 123, 90, 209, 252, 46, 175, 29, 96, 157>>}, 41,
       {:id, :contract,
        <<10, 126, 159, 135, 82, 51, 128, 194, 144, 132, 41, 25, 103, 230, 4, 179, 77, 54, 3, 118,
          14, 88, 180, 200, 222, 12, 124, 138, 3, 39, 137, 110>>}, 3, 183_880_000_000_000, 0, 0,
       25_000, 1_000_000_000,
       <<43, 17, 173, 201, 32, 179, 75, 159, 2, 160, 83, 107, 86, 97, 199, 199, 69, 232, 131, 106,
         241, 190, 181, 55, 62, 215, 254, 27, 189, 54, 54, 3, 152, 10, 245, 52, 84, 143, 225, 73,
         60, 7, 159, 2, 160, 165, 183, 23, 114, 145, 239, 159, 199, 241, 17, 145, 38, 165, 16, 97,
         176, 78, 150, 205, 43, 175, 9, 38, 160, 18, 49, 212, 116, 169, 115, 144, 97, 175, 130, 0,
         1, 1, 27, 111, 130, 3, 168, 175, 130, 0, 1, 1, 27, 111, 134, 1, 124, 235, 169, 148,
         223>>, [],
       <<87, 95, 129, 255, 176, 162, 151, 183, 114, 93, 198, 113, 218, 11, 23, 105, 177, 252, 92,
         190, 69, 56, 92, 123, 90, 209, 252, 46, 175, 29, 96, 157>>}},
     [
       <<241, 150, 148, 131, 67, 46, 246, 13, 168, 16, 229, 204, 67, 231, 236, 95, 54, 170, 101,
         153, 197, 29, 208, 162, 209, 157, 206, 128, 150, 32, 89, 254, 40, 198, 80, 136, 48, 195,
         190, 146, 235, 50, 195, 54, 72, 37, 63, 86, 82, 78, 182, 119, 240, 223, 137, 176, 53, 71,
         171, 222, 74, 17, 102, 11>>
     ]}
  end

  def signed_tx(:contract_create_tx, :aex141) do
    {:signed_tx,
     {:aetx, :contract_create_tx, :aect_create_tx, 1284,
      {:contract_create_tx,
       {:id, :account,
        <<94, 235, 93, 101, 69, 153, 45, 229, 182, 172, 41, 248, 51, 84, 200, 156, 182, 50, 234,
          29, 79, 136, 126, 110, 3, 204, 190, 140, 50, 206, 139, 175>>}, 83,
       <<249, 4, 170, 70, 3, 160, 103, 137, 164, 210, 137, 160, 3, 139, 212, 249, 115, 11, 1, 190,
         205, 54, 55, 142, 236, 116, 146, 249, 199, 14, 132, 50, 193, 67, 203, 119, 152, 109, 192,
         185, 4, 124, 185, 3, 133, 254, 15, 89, 34, 233, 0, 55, 2, 71, 0, 71, 0, 23, 32, 20, 0, 2,
         0, 254, 20, 55, 180, 56, 0, 55, 0, 55, 4, 119, 119, 135, 2, 55, 0, 55, 1, 119, 135, 4,
         55, 0, 55, 0, 55, 0, 55, 0, 12, 2, 140, 12, 2, 142, 12, 2, 144, 12, 2, 146, 39, 12, 8, 0,
         254, 39, 89, 45, 234, 0, 55, 1, 7, 135, 2, 55, 0, 55, 1, 71, 0, 26, 10, 0, 138, 47, 24,
         138, 0, 7, 12, 4, 1, 3, 175, 130, 0, 1, 0, 63, 43, 24, 0, 0, 68, 252, 35, 0, 2, 2, 2, 0,
         254, 68, 214, 68, 31, 0, 55, 2, 119, 119, 55, 0, 26, 14, 132, 47, 0, 26, 14, 134, 47, 0,
         26, 14, 136, 47, 0, 26, 14, 138, 47, 0, 26, 14, 144, 175, 130, 0, 1, 1, 27, 49, 115, 111,
         109, 101, 45, 110, 102, 116, 45, 117, 114, 108, 26, 14, 146, 175, 132, 0, 0, 0, 0, 0, 63,
         26, 14, 130, 0, 26, 6, 140, 0, 26, 6, 142, 2, 1, 3, 63, 254, 99, 148, 233, 122, 0, 55, 1,
         7, 135, 2, 55, 0, 55, 1, 119, 26, 10, 0, 132, 47, 24, 132, 0, 7, 12, 4, 1, 3, 175, 130,
         0, 1, 0, 63, 43, 24, 0, 0, 68, 252, 35, 0, 2, 2, 2, 0, 254, 101, 165, 224, 15, 2, 55, 1,
         135, 3, 55, 3, 71, 0, 71, 0, 7, 55, 3, 71, 0, 71, 0, 7, 55, 3, 71, 0, 71, 0, 23, 55, 0,
         9, 253, 0, 2, 4, 6, 70, 54, 0, 0, 0, 70, 54, 2, 0, 2, 70, 54, 4, 0, 4, 100, 2, 175, 95,
         159, 1, 129, 34, 60, 57, 226, 157, 255, 100, 103, 254, 221, 160, 151, 88, 217, 23, 129,
         197, 55, 46, 9, 31, 248, 107, 58, 249, 227, 16, 227, 134, 86, 43, 239, 0, 2, 4, 1, 3, 63,
         70, 54, 0, 0, 0, 70, 54, 2, 0, 2, 70, 54, 4, 0, 4, 100, 2, 175, 95, 159, 1, 129, 217,
         134, 199, 174, 182, 35, 122, 0, 47, 198, 63, 243, 175, 240, 113, 48, 118, 12, 83, 92,
         166, 189, 207, 252, 14, 15, 209, 191, 45, 34, 92, 218, 0, 2, 4, 1, 3, 63, 70, 54, 0, 0,
         0, 70, 54, 2, 0, 2, 70, 54, 4, 0, 4, 100, 2, 175, 95, 159, 1, 129, 108, 111, 71, 26, 61,
         180, 206, 14, 183, 131, 70, 177, 193, 62, 152, 222, 97, 20, 182, 70, 187, 17, 93, 182,
         53, 129, 148, 151, 124, 100, 218, 139, 0, 2, 4, 1, 3, 63, 254, 102, 66, 227, 51, 0, 55,
         2, 7, 71, 0, 23, 12, 1, 0, 2, 3, 17, 39, 89, 45, 234, 15, 2, 0, 8, 62, 0, 4, 6, 1, 3,
         127, 70, 58, 2, 0, 0, 32, 24, 2, 2, 0, 254, 104, 18, 102, 160, 0, 55, 3, 71, 0, 7, 23,
         55, 0, 26, 10, 0, 134, 43, 24, 0, 2, 12, 1, 0, 12, 1, 2, 68, 252, 51, 6, 6, 6, 2, 6, 4,
         3, 17, 101, 165, 224, 15, 254, 132, 161, 93, 161, 0, 55, 4, 71, 0, 71, 0, 7, 135, 2, 55,
         0, 55, 1, 119, 55, 0, 26, 10, 0, 136, 43, 24, 0, 0, 21, 50, 2, 2, 26, 10, 4, 136, 43, 24,
         4, 2, 20, 50, 6, 2, 45, 154, 136, 136, 0, 2, 45, 154, 136, 136, 2, 6, 45, 90, 134, 134,
         4, 2, 12, 1, 0, 12, 1, 2, 12, 1, 4, 68, 252, 51, 6, 6, 6, 0, 6, 4, 3, 17, 101, 165, 224,
         15, 254, 162, 103, 192, 75, 0, 55, 2, 71, 0, 23, 55, 0, 85, 0, 12, 1, 0, 12, 1, 2, 68,
         252, 51, 6, 6, 6, 4, 6, 4, 3, 17, 101, 165, 224, 15, 254, 171, 136, 50, 209, 2, 55, 2,
         119, 119, 119, 58, 20, 0, 2, 0, 254, 180, 140, 22, 132, 0, 55, 1, 71, 0, 135, 2, 55, 0,
         55, 1, 7, 26, 10, 0, 136, 47, 24, 136, 0, 7, 12, 4, 1, 3, 175, 130, 0, 1, 0, 63, 43, 24,
         0, 0, 68, 252, 35, 0, 2, 2, 2, 0, 254, 207, 221, 154, 162, 0, 55, 3, 71, 0, 135, 2, 55,
         0, 55, 1, 119, 135, 2, 55, 0, 55, 1, 119, 7, 26, 10, 0, 130, 20, 58, 2, 0, 2, 59, 8, 2,
         12, 3, 53, 115, 111, 109, 101, 45, 110, 102, 116, 45, 117, 114, 108, 47, 2, 3, 17, 171,
         136, 50, 209, 15, 2, 4, 26, 10, 6, 136, 43, 24, 6, 0, 20, 50, 8, 2, 26, 10, 130, 2, 45,
         170, 132, 132, 2, 4, 45, 106, 134, 134, 2, 0, 45, 154, 136, 136, 0, 8, 1, 2, 2, 254, 222,
         10, 63, 194, 0, 55, 0, 39, 119, 1, 3, 19, 33, 109, 105, 110, 116, 97, 98, 108, 101, 254,
         254, 174, 164, 250, 0, 55, 1, 7, 135, 2, 55, 0, 55, 1, 71, 0, 26, 10, 0, 134, 47, 24,
         134, 0, 7, 12, 4, 1, 3, 175, 130, 0, 1, 0, 63, 43, 24, 0, 0, 68, 252, 35, 0, 2, 2, 2, 0,
         184, 239, 47, 15, 17, 15, 89, 34, 233, 77, 105, 115, 95, 97, 112, 112, 114, 111, 118,
         101, 100, 95, 102, 111, 114, 95, 97, 108, 108, 17, 20, 55, 180, 56, 37, 109, 101, 116,
         97, 95, 105, 110, 102, 111, 17, 39, 89, 45, 234, 49, 103, 101, 116, 95, 97, 112, 112,
         114, 111, 118, 101, 100, 17, 68, 214, 68, 31, 17, 105, 110, 105, 116, 17, 99, 148, 233,
         122, 33, 109, 101, 116, 97, 100, 97, 116, 97, 17, 101, 165, 224, 15, 45, 67, 104, 97,
         105, 110, 46, 101, 118, 101, 110, 116, 17, 102, 66, 227, 51, 45, 105, 115, 95, 97, 112,
         112, 114, 111, 118, 101, 100, 17, 104, 18, 102, 160, 29, 97, 112, 112, 114, 111, 118,
         101, 17, 132, 161, 93, 161, 33, 116, 114, 97, 110, 115, 102, 101, 114, 17, 162, 103, 192,
         75, 45, 97, 112, 112, 114, 111, 118, 101, 95, 97, 108, 108, 17, 171, 136, 50, 209, 57,
         46, 83, 116, 114, 105, 110, 103, 46, 99, 111, 110, 99, 97, 116, 17, 180, 140, 22, 132,
         29, 98, 97, 108, 97, 110, 99, 101, 17, 207, 221, 154, 162, 17, 109, 105, 110, 116, 17,
         222, 10, 63, 194, 69, 97, 101, 120, 49, 52, 49, 95, 101, 120, 116, 101, 110, 115, 105,
         111, 110, 115, 17, 254, 174, 164, 250, 21, 111, 119, 110, 101, 114, 130, 47, 0, 133, 54,
         46, 49, 46, 48, 0>>, %{abi: 3, vm: 7}, 100_680_000_000_000, 0, 0, 25_000, 1_000_000_000,
       <<43, 17, 68, 214, 68, 31, 43, 29, 112, 114, 101, 110, 102, 116, 50, 21, 80, 78, 70, 84,
         50>>, 0}},
     [
       <<25, 160, 34, 12, 60, 197, 158, 57, 220, 114, 123, 85, 189, 190, 123, 16, 102, 56, 253,
         247, 30, 70, 111, 42, 44, 97, 91, 22, 248, 235, 191, 114, 170, 92, 3, 96, 151, 71, 193,
         0, 36, 40, 70, 182, 106, 246, 126, 145, 62, 101, 117, 241, 251, 193, 37, 45, 205, 193,
         59, 188, 69, 127, 62, 2>>
     ]}
  end
end
