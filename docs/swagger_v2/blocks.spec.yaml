schemas:
  Block:
    example:
      beneficiary: ak_2MR38Zf355m6JtP13T3WEcUcSLVLCxjGvjk6zG95S2mfKohcSS
      hash: kh_uoTGwc4HPzEW9qmiQR1zmVVdHmzU6YmnVvdFe6HvybJJRj7V6
      height: 123008
      info: cb_AAAAAfy4hFE=
      miner: ak_Fqnmm5hRAMaVPWk8wzpodMopZgWghMns4mM7kSV1jgT89p9AV
      nonce: 9223756548132686000
      pow: [12359907, 21243613,  31370838, 34911479, 39070315, 39375528, 45751339, 49864206, 56785423, 70282271, 89781776, 136985196, 140580763, 142415353, 145306210, 148449813, 156037609, 161568067, 170308922, 185345129, 192805579, 214115188, 220339679, 243288723, 258891016, 283001743, 284306909, 286457285, 326405486, 352963232, 377904500, 378120539, 380987399, 388675008, 447958786, 457602498, 465751225, 466823982, 475416389, 491255227, 530197445, 533633643]
      ev_hash: kh_hwin2p8u87mqiK836FixGa1pL9eBkL1Ju37Yi6EUebCgAf8rm
      prev_key_hash: kh_hwin2p8u87mqiK836FixGa1pL9eBkL1Ju37Yi6EUebCgAf8rm
      state_hash: bs_9Dg6mTmiJLpbg9dzgjnNFVidQesvZYZG3dEviUCd4oE1hUcna
      target: 504082055
      time: 1565548832164
      version: 3
    properties:
      beneficiary:
        description: The beneficiary
        type: string
      hash:
        description: The block hash
        type: string
      height:
        description: The block height
        type: integer
      info:
        description: The info
        type: string
      miner:
        description: The miner public key
        type: string
      nonce:
        description: The nonce
        type: string
      pow:
        description: The pow
        type: array
        items:
          type: integer
      prev_hash:
        description: The previous block hash
        type: string
      prev_key_hash:
        description: The previous key block hash
        type: string
      state_hash:
        description: The state hash
        type: string
      target:
        description: The target
        type: integer
      time:
        description: The time
        type: integer
      version:
        description: The version
        type: integer
    title: Block
    type: object
paths:
  /blocks:
    get:
      deprecated: false
      description: Get multiple blocks.
      operationId: get_blocks
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/ScopeParam'
        - $ref: '#/components/parameters/DirectionParam'
      responses:
        '200':
          description: Returns paginated blocks
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/Block'
                  - $ref: '#/components/schemas/PaginatedResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /blocks/{hash_or_kbi}:
    get:
      deprecated: false
      description: Get a single block.
      operationId: get_block
      parameters:
        - name: hash_or_kbi
          in: path
          description: The block encoded hash or key block index
          required: true
          schema:
            oneOf:
              - type: string
                example: kh_22BuVBCFvW5FvQu3F8h4v351SfJPokR9ytwAD77Lyuo6mqxeeF
              - type: integer
                example: 123
      responses:
        '200':
          description: Returns a single block
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Block'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundResponse'
  /blocks/{kbi}/{mbi}:
    get:
      deprecated: false
      description: Get a single block.
      operationId: get_block_by_mbi
      parameters:
        - name: kbi
          in: path
          description: The block key block index
          required: true
          schema:
            type: integer
            example: 123
        - name: mbi
          in: path
          description: The block micro block index, starting from 0
          required: true
          schema:
            type: integer
            example: 456
      responses:
        '200':
          description: Returns a single block
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Block'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundResponse'
